// Copyright (C) 2018 Michał Šrajer <michal@post.pl>
// This software is licensed under (one of your choice):
// - MIT
// - Apache-2.0
// - LGPL-2.1
// See LICENSE-*.txt for details.

#pragma once
#include <cassert>
#include "cycle.h"
#define Q(label, cmp1, cmp2, label1, label2) label: if (compare(cmp1, cmp2)) goto label1; else goto label2;
#define R return;
template<typename RandomAccessIterator, typename Compare>
void dtsort5(const RandomAccessIterator& first, const RandomAccessIterator& last, const Compare& compare) {
assert(last-first==5);
auto &a = *(first+0);
auto &b = *(first+1);
auto &c = *(first+2);
auto &d = *(first+3);
auto &e = *(first+4);
Q(q1,b,a,q2,q3)
Q(q2,d,c,q4,q5)
Q(q3,d,c,q6,q7)
Q(q4,c,a,q8,q9)
Q(q5,c,b,q10,q11)
Q(q6,c,b,q12,q13)
Q(q7,c,a,q14,q15)
Q(q8,e,c,q16,q17)
Q(q9,e,a,q18,q19)
Q(q10,e,b,q20,q21)
Q(q11,e,c,q22,q23)
Q(q12,e,c,q24,q25)
Q(q13,e,b,q26,q27)
Q(q14,e,a,q28,q29)
Q(q15,e,c,q30,q31)
Q(q16,e,d,q32,q33)
Q(q17,e,a,q34,q35)
Q(q18,e,b,q36,q37)
Q(q19,e,c,q38,q39)
Q(q20,d,b,q40,q41)
Q(q21,e,a,q42,q43)
Q(q22,c,a,q44,q45)
Q(q23,e,d,q46,q47)
Q(q24,e,d,q48,q49)
Q(q25,e,b,q50,q51)
Q(q26,e,a,q52,q53)
Q(q27,e,c,q54,q55)
Q(q28,d,a,q56,q57)
Q(q29,e,b,q58,q59)
Q(q30,c,b,q60,q61)
Q(q31,e,d,q62,q63)
Q(q32,d,b,q64,q65)
Q(q33,e,b,q66,q67)
Q(q34,c,b,q68,q69)
Q(q35,d,b,q70,s71)
Q(q36,d,b,q72,q73)
Q(q37,e,d,q74,q75)
Q(q38,d,a,q76,q77)
Q(q39,d,a,q78,s79)
Q(q40,e,d,q80,s81)
Q(q41,e,c,q82,q83)
Q(q42,e,d,q84,q85)
Q(q43,d,a,q86,q87)
Q(q44,d,a,q88,q89)
Q(q45,e,a,q90,s91)
Q(q46,e,a,q92,q93)
Q(q47,d,a,q94,q95)
Q(q48,d,a,q96,q97)
Q(q49,e,a,q98,q99)
Q(q50,c,a,q100,q101)
Q(q51,c,a,s102,q103)
Q(q52,d,a,q104,q105)
Q(q53,e,d,q106,q107)
Q(q54,d,b,q108,q109)
Q(q55,d,a,s110,q111)
Q(q56,e,d,q112,s113)
Q(q57,d,b,q114,q115)
Q(q58,e,d,q116,q117)
Q(q59,d,b,q118,q119)
Q(q60,d,b,q120,q121)
Q(q61,e,a,s122,q123)
Q(q62,e,b,q124,q125)
Q(q63,d,b,q126,q127)
Q(q64,c,b,s128,s129)
Q(q65,e,b,s130,s131)
Q(q66,c,b,s132,s133)
Q(q67,d,b,s134,s135)
Q(q68,e,b,s136,s137)
Q(q69,d,b,s138,s139)
Q(q70,c,b,s140,s141)
s71:X(a,d,b);/*perm=30214*/R
Q(q72,e,d,s144,s145)
Q(q73,d,a,s146,s147)
Q(q74,d,a,s148,s149)
Q(q75,d,b,s150,s151)
Q(q76,d,b,s152,s153)
Q(q77,e,d,s154,s155)
Q(q78,d,b,s156,s157)
s79:X(a,b);X(c,d);/*perm=10324*/R
Q(q80,e,c,s160,s161)
s81:X(a,e,c);X(b,d);/*perm=43012*/R
Q(q82,d,a,s164,s165)
Q(q83,d,a,s166,s167)
Q(q84,d,a,s168,s169)
Q(q85,d,b,s170,s171)
Q(q86,d,b,s172,s173)
Q(q87,e,d,s174,s175)
Q(q88,e,b,s176,s177)
Q(q89,e,b,s178,s179)
Q(q90,e,b,s180,s181)
s91:X(a,b);X(c,d,e);/*perm=10342*/R
Q(q92,d,a,s184,s185)
Q(q93,c,a,s186,s187)
Q(q94,e,a,s188,s189)
Q(q95,c,a,s190,s191)
Q(q96,c,a,s192,s193)
Q(q97,e,a,s194,s195)
Q(q98,c,a,s196,s197)
Q(q99,d,a,s198,s199)
Q(q100,e,a,s200,s201)
Q(q101,d,a,s202,s203)
s102:X(a,c,b,d);/*perm=23104*/R
Q(q103,d,a,s206,s207)
Q(q104,e,d,s208,s209)
Q(q105,d,b,s210,s211)
Q(q106,d,b,s212,s213)
Q(q107,d,a,s214,s215)
Q(q108,d,a,s216,s217)
Q(q109,e,d,s218,s219)
s110:X(a,b,c,d);/*perm=12304*/R
Q(q111,d,b,s222,s223)
Q(q112,e,c,s224,s225)
s113:X(a,d,b,e,c);/*perm=34012*/R
Q(q114,e,c,s228,s229)
Q(q115,e,c,s230,s231)
Q(q116,d,b,s232,s233)
Q(q117,d,a,s234,s235)
Q(q118,d,a,s236,s237)
Q(q119,e,d,s238,s239)
Q(q120,e,a,s240,s241)
Q(q121,e,a,s242,s243)
s122:X(a,b,c,d,e);/*perm=12340*/R
Q(q123,e,b,s246,s247)
Q(q124,d,b,s248,s249)
Q(q125,c,b,s250,s251)
Q(q126,e,b,s252,s253)
Q(q127,c,b,s254,s255)
s128:X(a,e);X(b,d);/*perm=43210*/R
s129:X(a,e);X(b,c,d);/*perm=42310*/R
s130:X(a,e);X(c,d);/*perm=41320*/R
s131:X(a,e,b);X(c,d);/*perm=40321*/R
s132:X(a,e,b,d);/*perm=43201*/R
s133:X(a,e,b,c,d);/*perm=42301*/R
s134:X(a,e,c,d);/*perm=41302*/R
s135:X(a,e,c,d,b);/*perm=40312*/R
s136:X(a,e,c,b,d);/*perm=43102*/R
s137:X(a,e,d);X(b,c);/*perm=42103*/R
s138:X(a,e,d);/*perm=41203*/R
s139:X(a,e,d,b);/*perm=40213*/R
s140:X(a,d);X(b,c);/*perm=32104*/R
s141:X(a,d);/*perm=31204*/R
s144:X(a,d,b,c,e);/*perm=32410*/R
s145:X(a,d);X(b,c,e);/*perm=32401*/R
s146:X(a,d,c,e);/*perm=31420*/R
s147:X(a,c,e);/*perm=21430*/R
s148:X(a,d,c,e,b);/*perm=30421*/R
s149:X(a,c,e,b);/*perm=20431*/R
s150:X(a,d);X(c,e);/*perm=31402*/R
s151:X(a,d,b);X(c,e);/*perm=30412*/R
s152:X(a,c,e,d);/*perm=21403*/R
s153:X(a,c,e,d,b);/*perm=20413*/R
s154:X(a,b);X(c,e);/*perm=10432*/R
s155:X(a,b);X(c,e,d);/*perm=10423*/R
s156:X(a,c,d);/*perm=21304*/R
s157:X(a,c,d,b);/*perm=20314*/R
s160:X(a,e);X(b,d,c);/*perm=43120*/R
s161:X(a,e,b,d,c);/*perm=43021*/R
s164:X(a,e);X(b,c);/*perm=42130*/R
s165:X(a,d,e);X(b,c);/*perm=32140*/R
s166:X(a,e,b,c);/*perm=42031*/R
s167:X(a,d,e,b,c);/*perm=32041*/R
s168:X(a,e,c);/*perm=41032*/R
s169:X(a,d,e,c);/*perm=31042*/R
s170:X(a,e,d,b,c);/*perm=42013*/R
s171:X(a,e,d,c);/*perm=41023*/R
s172:X(a,d,b,c);/*perm=32014*/R
s173:X(a,d,c);/*perm=31024*/R
s174:X(a,c);X(d,e);/*perm=21043*/R
s175:X(a,c);/*perm=21034*/R
s176:X(a,e);/*perm=41230*/R
s177:X(a,e,b);/*perm=40231*/R
s178:X(a,d,e);/*perm=31240*/R
s179:X(a,d,e,b);/*perm=30241*/R
s180:X(a,c,d,e);/*perm=21340*/R
s181:X(a,c,d,e,b);/*perm=20341*/R
s184:X(a,e,c,b);/*perm=40132*/R
s185:X(a,d,e,c,b);/*perm=30142*/R
s186:X(a,c,b);X(d,e);/*perm=20143*/R
s187:X(a,b);X(d,e);/*perm=10243*/R
s188:X(a,e,d,c,b);/*perm=40123*/R
s189:X(a,d,c,b);/*perm=30124*/R
s190:X(a,c,b);/*perm=20134*/R
s191:X(a,b);/*perm=10234*/R
s192:X(a,d,b,e);/*perm=34210*/R
s193:X(a,c,d,b,e);/*perm=24310*/R
s194:X(a,b,e);X(c,d);/*perm=14320*/R
s195:X(b,e);X(c,d);/*perm=04321*/R
s196:X(a,d);X(b,e);/*perm=34201*/R
s197:X(a,c,d);X(b,e);/*perm=24301*/R
s198:X(a,b,e,c,d);/*perm=14302*/R
s199:X(b,e,c,d);/*perm=04312*/R
s200:X(a,d);X(b,e,c);/*perm=34102*/R
s201:X(a,c,b,e,d);/*perm=24103*/R
s202:X(a,b,e,d);/*perm=14203*/R
s203:X(b,e,d);/*perm=04213*/R
s206:X(a,b,d);/*perm=13204*/R
s207:X(b,d);/*perm=03214*/R
s208:X(a,c,e);X(b,d);/*perm=23410*/R
s209:X(a,c,e,b,d);/*perm=23401*/R
s210:X(a,b,d,c,e);/*perm=13420*/R
s211:X(a,b,c,e);/*perm=12430*/R
s212:X(b,d,c,e);/*perm=03421*/R
s213:X(b,c,e);/*perm=02431*/R
s214:X(a,b,d);X(c,e);/*perm=13402*/R
s215:X(b,d);X(c,e);/*perm=03412*/R
s216:X(a,b,c,e,d);/*perm=12403*/R
s217:X(b,c,e,d);/*perm=02413*/R
s218:X(c,e);/*perm=01432*/R
s219:X(c,e,d);/*perm=01423*/R
s222:X(b,c,d);/*perm=02314*/R
s223:X(c,d);/*perm=01324*/R
s224:X(a,d,c,b,e);/*perm=34120*/R
s225:X(a,d,c);X(b,e);/*perm=34021*/R
s228:X(a,c,b,e);/*perm=24130*/R
s229:X(a,c);X(b,e);/*perm=24031*/R
s230:X(a,c,b,d,e);/*perm=23140*/R
s231:X(a,c);X(b,d,e);/*perm=23041*/R
s232:X(a,b,e,c);/*perm=14032*/R
s233:X(a,b,d,e,c);/*perm=13042*/R
s234:X(a,c);X(b,e,d);/*perm=24013*/R
s235:X(a,b,e,d,c);/*perm=14023*/R
s236:X(a,c);X(b,d);/*perm=23014*/R
s237:X(a,b,d,c);/*perm=13024*/R
s238:X(a,b,c);X(d,e);/*perm=12043*/R
s239:X(a,b,c);/*perm=12034*/R
s240:X(a,b,e);/*perm=14230*/R
s241:X(b,e);/*perm=04231*/R
s242:X(a,b,d,e);/*perm=13240*/R
s243:X(b,d,e);/*perm=03241*/R
s246:X(b,c,d,e);/*perm=02341*/R
s247:X(c,d,e);/*perm=01342*/R
s248:X(b,e,c);/*perm=04132*/R
s249:X(b,d,e,c);/*perm=03142*/R
s250:X(b,c);X(d,e);/*perm=02143*/R
s251:X(d,e);/*perm=01243*/R
s252:X(b,e,d,c);/*perm=04123*/R
s253:X(b,d,c);/*perm=03124*/R
s254:X(b,c);/*perm=02134*/R
s255:/*perm=01234*/R
}
#undef Q
#undef R
